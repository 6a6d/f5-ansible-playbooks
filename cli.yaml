vars:
  cli:
    host: "192.168.2.118"
    username: admin
    password: admin
    transport: cli

name: run show version on remote devices
  bigip_command:
    commands: show sys version
    provider: "{{ cli }}"

name: run show version and check to see if output contains BIG-IP
  bigip_command:
    commands: show sys version
    wait_for: result[0] contains BIG-IP
    provider: "{{ cli }}"

name: run multiple commands on remote nodes
   bigip_command:
    commands:
      - show sys version
      - list ltm virtual
    provider: "{{ cli }}"

name: run multiple commands and evaluate the output
  bigip_command:
    commands:
      - show sys version
      - list ltm virtual
    wait_for:
      - result[0] contains BIG-IP
      - result[1] contains my-vs
    provider: "{{ cli }}"

name: tmsh prefixes will automatically be handled
  bigip_command:
    commands:
      - show sys version
      - tmsh list ltm virtual
    provider: "{{ cli }}"
